2001-08-18  Bill Haneman <bill.haneman@sun.com>

	* Makefile.am : changed build order to build test last.
	* cspi/spi.h :
	* cspi/spi_main.c :
	Changed "createEventListener" to "CreateEventListener".
	* libspi/accessibleeventlistener.c :
	Bugfix for addition of callbacks.
	* test/Makefile.am :
	* test/simple-at.c :
	Added new test that uses the C bindings API.
	* idl/Event.idl :
	* libspi/listener.c :
	* libspi/registry.c :
	* libspi/accessibleeventlistener.c :
	* at-bridge/bridge.c :
	Renamed member "target" of Accessibility_Event to "source",
	which is more descriptive.
	

2001-08-18  Bill Haneman <bill.haneman@sun.com>

	* Makefile.am: 
	* configure.in :
	* cspi/Makefile.am :
	Added makefile support for at-spi/cspi directory.
	* cspi/spi.h : 
	* cspi/spi-impl.h :
	* cspi/spi-listener.h : (NEW FILE)
	Added support for/use of spi-listener.h.
	* cspi/spi_main.c :
	C bindings now build successfully, with no warnings.
	* libspi/accessibleeventlistener.h : (NEW FILE)
	* libspi/accessibleeventlistener.c : (NEW FILE)
	* libspi/Makefile.am :
	Added new object type "AccessibleEventListener"
	which inherits from Listener, and allows attachment
	of in-process callbacks (so that a client with a listening
	object instance can add functionality to the local 
	implementation, dynamically).

2001-08-18  Bill Haneman <bill.haneman@sun.com>

	* libspi/accessible.c: 
	Add implementation for get_index_in_parent().
	* cspi/spi.h : 
	Added #include of "spi-roletypes.h", and
	added enumerated type AccessibleCoordType.
	Added definition for KeystrokeListener (function type).

	ADDED FILES:
	* cspi/spi-statetypes.h :
	* cspi/spi-roletypes.h :
	* cspi/spi-impl.h :
	Added these headers, used by spi.h.
	* cspi/spi_main.c : 
	Added code (NOTE: not yet built by make).

2001-08-18  Mark McLoughlin <mark@skynet.ie>

	* libspi/Makefile.am: generate imodule
	at the same time as other idl compiler 
	generated files. 

2001-08-17  Bill Haneman <bill.haneman@sun.com>
	* libspi/registry.c :
	* libspi/application.c :
	* idl/Application.idl :
	Made registration with toolkit an application method,
	which is required since each app has its own toolkit static
	environment.  Thus the bridge must register for 
	notification of toolkit events from each application in turn.
	Toolkit notifications are now successfully registered for, and
	sent to the listening at client.
	* test/at.c :
	Changed toolkit event string to use hyphens rather than underscores.
	* libspi/listener.c :
	listner now gives more info in debug mode - it reports the
	name of the event received, as well as the name of the source.
	

2001-08-16  Bill Haneman <bill.haneman@sun.com>

	* libspi/registry.c :
	added more implementation for toolkit events.
	Fixed bug such that toolkit event registrations
	(via atk) use the whole event name string, not 
	just minor+detail.
	Removed a useless call to an ORBit_ method.
	* at-bridge/bridge.c :
	Removed unused local sbuf[] variable.
	* test/at.c :
	We now register for Gtk:GtkWidget:button_press_event 
	events as well as "focus:" events.
	* cspi/spi.h :
	Add some more API from Registry.idl that was missing,
	for keystroke listening, keystroke and mouse event
	synthesis, and enumeration of accessible desktops.

2001-08-16  Michael Meeks  <michael@ximian.com>

	* configure.in: use AM_GLIB_GNU_GETTEXT.

	* Makefile.am (SUBDIRS): kill intl.

2001-08-15  Michael Meeks  <michael@ximian.com>

	* registryd/Makefile.am: s/oaf/server/ relocate info file.

	* configure.in: upd.

	* configure.in: depend on a recent bonobo-activation that
	will find our server files ...

2001-08-16  Bill Haneman <bill.haneman@sun.com>

	* libspi/accessible.c : accessible_new() :
	Now we add the Component interface via bonobo_object_add_interface,
	if the contained AtkObject implements AtkComponent.
	* libspi/accessible.h : now include "component.h"
	* libspi/component.h :
	* libspi/component.c : added files - implementation of
	bonobo wrapper object for Accessibility/Component
	* libspi/listener.c :
	Added test code to check for Accessibility/Component:1.0
	interface and report whether it is implemented by the
	event source.
	* libspi/registry.c :
	Now we check for not only the hash of the whole event 
	string before relaying the event, we also check the
	"minor" event string (without the detail string).
	This allows event listeners to be registered against
	all events of a certain major+minor type, or just
	against a specific major+minor+detail type.
	* libspi/accessible.c :
	Added implementations for Accessible:get_parent(),
	Accessible:getChildCount(), and Accessible:getChildAtIndex().
	* libspi/registry.c :
	* libspi/listener.c :
	Replaced calls to Accessibility_Accessible_ref() and
	Accessibility_Accessible_unref() with 
	calls to bonobo_object_dup_ref() and 
	bonobo_object_release_unref(), so that the CORBA object
	is dup-ed and released when relayed, as well as the bonobo object.

2001-08-15  Mark McLoughlin <mark@skynet.ie>

	* libspi/Makefile.am,
          registryd/Makefile.am,
          at-bridge/Makefile.am.
          test/Makefile.am, configure.in:
	reverse previous changes.

	* /idl/Image.idl: fix typo.

	* test/Makefile.am: put DEBUG_FLAGS
	in CFLAGS.

2001-08-15  Mark McLoughlin <mark@skynet.ie>

	* test/app.c: use argv[0] instead of
	g_type_prgname.

2001-08-15  Mark McLoughlin <mark@skynet.ie>

	* libspi/Makefile.am,
	  registryd/Makefile.am,
	  at-bridge/Makefile.am.
	  test/Makefile.am, configure.in:
	cleanup, replace individual LIBS/CFLAGS with
	AT_COMMON_{LIBS|CFLAGS}.

	* README: format.

2001-08-15  Mark McLoughlin <mark@skynet.ie>
	
	* configure.in, libspi/Makefile.am:
	Change IDL path checking for bonobo-activation
	as opposed to oaf.

2001-08-15  Bill Haneman <bill.haneman@sun.com>

	* registryd/registry.c : separated event listeners to use
	3 separate lists (focus, window, toolkit).  Began testing
	event names against hashes before relaying events.
	* test/at.c : now register for events of type "focus:"
	* test/app.c : now generate events of type "focus:"
	* at-bridge/bridge.c : register with ATK for focus events,
	and we now relay those focus events to any "focus:" listeners.
	This now works with the bridge as a GTK_MODULE when running test/at.
	* libspi/registry.c :
	* libspi/listener.c : now we ref event sources before propagating, and unref on receipt.
	* libspi/registry.c : some changes to internal structs, to support event typestring hashes.
	* text/app.c : changed the way the appname is generated.
	* cspi : added directory that will hold the C bindings library for 
		non-CORBA/bonobo-savvy clients.
	* cspi/spi.h : header file that contains the function prototypes for the C binding.
	* idl/Component.idl : added in parameter to indicate coord system for
		geometry-related calls.
	* idl/Hyperlink.idl : added readonly n_links attribute
	* idl/Image.idl : changed methods to attributes.
	
	KNOWN PROBLEMS:
	poll() fails after a few event notifications, when the number of file descriptors
	gets too large.  Investigating.
	
2001-08-15  Mark McLoughlin <mark@skynet.ie>

	* at-bridge/Makefile.am: link against
	../libspi/libspi.la instead of -lspi.

	* at-spi/test/app.c: include 
	bonobo-activation.h. Use a default appname
	if one is not provided.

2001-08-14  Bill Haneman <bill.haneman@sun.com>

	* idl/Registry.idl : temporarily changed register_Application
	to oneway, to work around issue with initial registration 
	re-entrancy.
	* idl/Application.idl : changed attribute "id" from readonly 
	to read-write, since it needs to be assigned by Registry.
	* registryd/registryd.c : added call to set application id 
	on registration.
	* registryd/registry.c : changed de-registration procedure to
	use CORBA_Object_hash() to find matching object ref in application
	lists and listener lists.
	* registryd/registry.c : defined EventTypeStruct and EventTypeMajor,
	began distinguishing between event types (work in progress).

2001-08-13  Bill Haneman <bill.haneman@sun.com>

	CHANGES:
	* libspi/application.c:
	Added implementations for get/set id, get_toolkitName,
	get_version.
	* registryd/registryd.c :
	* test/at.c :
	* test/app.c :
	* Makefile.am :
	Converted from use of OAF to bonobo-activation.
	* libspi/desktop.h :
	* libspi/desktop.c :
	* test/app.c :
	Removed references to atksimpleobject, since base atkobject
	implementation now provides functionality we need.
	* libspi/atksimpleobject.c :
	* libspi/atksimpleobject.h :
	Removed.
	
	ADDITIONS:
	* at-bridge
	* at-bridge/Makefile.am
	* at-bridge/bridge.c
	* configure.in
	* Makefile.am
	Added directory "bridge" and contents, and added dependencies
	in Makefile.am/configure.in.  
	Initial checkin of "at-bridge".
	This code is a GTK_MODULE which automatically registers
	GTK+ apps with the accessibility registry, using an object
	reference to the root ATK object.
	
2001-08-10  Mark McLoughlin <mark@skynet.ie>

	* po/Makefile.in.in: Remove. Again. If this
	doesn't get autogenerated - you need to update
	gnome-common.

2001-08-07  Mark McLoughlin <mark@skynet.ie>

	* po/Makefile.in.in: Add. Again.

2001-07-31  Bill Haneman <bill.haneman@sun.com>

        * libspi/accessible.c : added support for 'description' property.
	* libspi/accessible.c
	* libspi/desktop.c
	* libspi/registry.c : changed to use bonobo_object instead of bonobo_x_object
	    (since the two are now equivalent in libbonobo)
	* idl/Action.idl
	* idl/Component.idl
	* idl/Hyperlink.idl
	* idl/Image.idl
	* idl/Selection.idl
	* idl/Table.idl
	* idl/Text.idl
	* idl/Value.idl : changed these 'secondary' interfaces to inherit from
	     Bonobo::Unknown as does Accessibility::Accessible.
	* idl/StreamableContent.idl : as above, and replaced internal InputStream
	     interface with Bonobo::Stream, since it was redundant with it.
	     (The Stream returned by a StreamableContext object is expected to
	     implement only a subset of Bonobo::Stream)

2001-07-28  Anders Carlsson  <andersca@gnome.org>

        * libspi/accessible.c (accessible_object_finalize): Change
          g_free to g_object_unref since the AtkObject is a GObject.

2001-07-30  Bill Haneman <bill.haneman@sun.com>

	* idl/Accessibility.idl: add new IDL files
	
	Added:
	* idl/Action.idl: Definitions of actionable UI object
	* idl/Component.idl: Definitions of UI component geometry, etc.
	* idl/Hyperlink.idl: Defs of hyperlink behavior
	* idl/Image.idl: Def of accessible image
	* idl/Selection.idl: Definition of UI object with selectable children
	* idl/StreamableContent.idl: Definition of UI object with streamable backing data
	* idl/Table.idl: Definitions for access to table ('spreadsheet') elements
	* idl/Text.idl: Interface defs for UI elements with complex textual content
	* idl/Value.idl: Definition of UI element that is a value controller or display
	
2001-07-27  Michael Meeks  <michael@ximian.com>

	* po/Makefile.in.in: remove autogenerated file from CVS.

	* libspi/Makefile.am: Radicaly re-vamp to simplify & add ORBit2
	type library.

	* idl/Registry.idl: include guard.

	* idl/Accessibility.idl: Add, and include all the other IDL
	files.

	* idl/*.idl: remove mass of pragmas etc.

2001-07-26  Michael Meeks  <michael@ximian.com>

	* registryd/Makefile.am (registryd_SOURCES): remove
	redundant at_.

2001-07-27  Mark McLoughlin <mark@skynet.ie>

	* libspi/.cvsignore, registryd/.cvsignore,
	  test/.cvsignore: updated.

	* po/Makefile.in.in: gettext update.

2001-07-25  Bill Haneman <bill.haneman@sun.com>

	* initial CVS checkin

2001-06-29  Michael Meeks  <michael@ximian.com>

	* configure.in: add AM_CONFIG_HEADER to gen config.h

	* acconfig.h: add.

